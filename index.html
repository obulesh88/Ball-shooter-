<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ball Shooter</title>
<style>
    body {
        margin: 0;
        background-color: #0F1429;
        color: white;
        font-family: Arial, sans-serif;
        text-align: center;
        overflow: hidden; /* Prevent scrollbars */
    }
    canvas {
        background: linear-gradient(#1A2347, #0F1429);
        display: block;
        border-radius: 0;
        box-shadow: none;
        width: 100vw;
        height: 100vh;
    }
    h1 {
        position: absolute;
        top: 10px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 28px;
        margin: 0;
        z-index: 10;
    }
</style>
</head>
<body>

<h1>ðŸŽ¯ Ball Shooter</h1>
<canvas id="gameCanvas"></canvas>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

// Adjust canvas to full screen
function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
window.addEventListener("resize", resizeCanvas);
resizeCanvas();

let arrow = { x: canvas.width/2, y: canvas.height-60, w: 8, h: 20, speed: 7, dx: 0, dy: 0, active: false };
let target = { x: canvas.width/2, y: 100, r: 30, dx: 3 };
let obstacles = [];
let score = 0;
let aimAngle = -90;
let gameInterval;

// Create random obstacles
function createObstacles(count) {
    obstacles = [];
    for (let i = 0; i < count; i++) {
        obstacles.push({
            x: Math.random() * (canvas.width - 100) + 50,
            y: Math.random() * (canvas.height/3) + 100,
            r: 20,
            dx: Math.random() < 0.5 ? 2 : -2
        });
    }
}

function drawArrow() {
    ctx.save();
    ctx.translate(arrow.x, arrow.y);
    ctx.rotate(Math.atan2(arrow.dy, arrow.dx));
    ctx.fillStyle = "orange";
    ctx.fillRect(-arrow.w / 2, -arrow.h / 2, arrow.w, arrow.h);
    ctx.restore();
}

function drawAimLine() {
    ctx.beginPath();
    ctx.moveTo(arrow.x, arrow.y);
    ctx.lineTo(
        arrow.x + Math.cos(aimAngle * Math.PI / 180) * 70,
        arrow.y + Math.sin(aimAngle * Math.PI / 180) * 70
    );
    ctx.strokeStyle = "lime";
    ctx.lineWidth = 2;
    ctx.stroke();
}

function drawTarget() {
    ctx.beginPath();
    ctx.arc(target.x, target.y, target.r, 0, Math.PI * 2);
    ctx.fillStyle = "red";
    ctx.fill();
    ctx.closePath();
}

function drawObstacles() {
    ctx.fillStyle = "gray";
    obstacles.forEach(o => {
        ctx.beginPath();
        ctx.arc(o.x, o.y, o.r, 0, Math.PI * 2);
        ctx.fill();
        ctx.closePath();
    });
}

function drawScore() {
    ctx.fillStyle = "white";
    ctx.font = "20px Arial";
    ctx.fillText("Score: " + score, 20, 40);
}

function resetArrow() {
    arrow.x = canvas.width/2;
    arrow.y = canvas.height-60;
    arrow.dx = 0;
    arrow.dy = 0;
    arrow.active = false;
}

function update() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Move target
    target.x += target.dx;
    if (target.x < target.r || target.x > canvas.width - target.r) target.dx *= -1;

    // Move obstacles
    obstacles.forEach(o => {
        o.x += o.dx;
        if (o.x < o.r || o.x > canvas.width - o.r) o.dx *= -1;
    });

    // Move arrow
    if (arrow.active) {
        arrow.x += arrow.dx;
        arrow.y += arrow.dy;

        if (arrow.x < 0 || arrow.x > canvas.width) arrow.dx *= -1;
        if (arrow.y < 0) resetArrow();

        // Hit target
        let dx = arrow.x - target.x;
        let dy = arrow.y - target.y;
        if (Math.sqrt(dx*dx + dy*dy) < target.r) {
            score++;
            resetArrow();
        }

        // Hit obstacles
        for (let o of obstacles) {
            let odx = arrow.x - o.x;
            let ody = arrow.y - o.y;
            if (Math.sqrt(odx*odx + ody*ody) < o.r) {
                score = Math.max(0, score - 1);
                resetArrow();
                break;
            }
        }
    }

    drawTarget();
    drawObstacles();
    if (!arrow.active) drawAimLine();
    drawArrow();
    drawScore();
}

canvas.addEventListener("mousemove", (e) => {
    if (!arrow.active) {
        const rect = canvas.getBoundingClientRect();
        const mouseX = e.clientX - rect.left;
        const mouseY = e.clientY - rect.top;
        aimAngle = Math.atan2(mouseY - arrow.y, mouseX - arrow.x) * 180 / Math.PI;
    }
});

canvas.addEventListener("click", () => {
    if (!arrow.active) {
        arrow.dx = Math.cos(aimAngle * Math.PI / 180) * arrow.speed;
        arrow.dy = Math.sin(aimAngle * Math.PI / 180) * arrow.speed;
        arrow.active = true;
    }
});

// Start automatically at 60 FPS
function startGame() {
    score = 0;
    resetArrow();
    createObstacles(5);
    if (gameInterval) clearInterval(gameInterval);
    gameInterval = setInterval(update, 1000 / 60);
}
startGame();
</script>

</body>
</html>
        arrow.y + Math.sin(aimAngle * Math.PI / 180) * 70
    );
    ctx.strokeStyle = "lime";
    ctx.lineWidth = 2;
    ctx.stroke();
}

function drawTarget() {
    ctx.beginPath();
    ctx.arc(target.x, target.y, target.r, 0, Math.PI * 2);
    ctx.fillStyle = "red";
    ctx.fill();
    ctx.closePath();
}

function drawObstacles() {
    ctx.fillStyle = "gray";
    obstacles.forEach(o => {
        ctx.beginPath();
        ctx.arc(o.x, o.y, o.r, 0, Math.PI * 2);
        ctx.fill();
        ctx.closePath();
    });
}

function drawScore() {
    ctx.fillStyle = "white";
    ctx.font = "20px Arial";
    ctx.fillText("Score: " + score, 20, 40);
}

function resetArrow() {
    arrow.x = canvas.width/2;
    arrow.y = canvas.height-60;
    arrow.dx = 0;
    arrow.dy = 0;
    arrow.active = false;
}

function update() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Move target
    target.x += target.dx;
    if (target.x < target.r || target.x > canvas.width - target.r) target.dx *= -1;

    // Move obstacles
    obstacles.forEach(o => {
        o.x += o.dx;
        if (o.x < o.r || o.x > canvas.width - o.r) o.dx *= -1;
    });

    // Move arrow
    if (arrow.active) {
        arrow.x += arrow.dx;
        arrow.y += arrow.dy;

        if (arrow.x < 0 || arrow.x > canvas.width) arrow.dx *= -1;
        if (arrow.y < 0) resetArrow();

        // Hit target
        let dx = arrow.x - target.x;
        let dy = arrow.y - target.y;
        if (Math.sqrt(dx*dx + dy*dy) < target.r) {
            score++;
            resetArrow();
        }

        // Hit obstacles
        for (let o of obstacles) {
            let odx = arrow.x - o.x;
            let ody = arrow.y - o.y;
            if (Math.sqrt(odx*odx + ody*ody) < o.r) {
                score = Math.max(0, score - 1);
                resetArrow();
                break;
            }
        }
    }

    drawTarget();
    drawObstacles();
    if (!arrow.active) drawAimLine();
    drawArrow();
    drawScore();
}

canvas.addEventListener("mousemove", (e) => {
    if (!arrow.active) {
        const rect = canvas.getBoundingClientRect();
        const mouseX = e.clientX - rect.left;
        const mouseY = e.clientY - rect.top;
        aimAngle = Math.atan2(mouseY - arrow.y, mouseX - arrow.x) * 180 / Math.PI;
    }
});

canvas.addEventListener("click", () => {
    if (!arrow.active) {
        arrow.dx = Math.cos(aimAngle * Math.PI / 180) * arrow.speed;
        arrow.dy = Math.sin(aimAngle * Math.PI / 180) * arrow.speed;
        arrow.active = true;
    }
});

// Start automatically at 60 FPS
function startGame() {
    score = 0;
    resetArrow();
    createObstacles(5);
    if (gameInterval) clearInterval(gameInterval);
    gameInterval = setInterval(update, 1000 / 60);
}
startGame();
</script>

</body>
</html>
